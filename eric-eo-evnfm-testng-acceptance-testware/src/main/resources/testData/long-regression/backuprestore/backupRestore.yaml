#
# COPYRIGHT Ericsson 2024
#
#
#
# The copyright to the computer program(s) herein is the property of
#
# Ericsson Inc. The programs may be used and/or copied only with written
#
# permission from Ericsson Inc. or in accordance with the terms and
#
# conditions stipulated in the agreement/contract under which the
#
# program(s) have been supplied.
#

cnfToInstantiate:
  - vnfdId: "multi-chart-etsi-rel4-5fcb086597"
    vnfInstanceName: cnf-backup-restore-test
    vnfInstanceDescription: Example description
    namespace: cnf-backup-restore-test-ns
    cluster:
      localPath: "${KUBE_CONFIG_PATH}"
    expectedOperationState: Completed
    expectedComponentsState: Running
    cleanUpResources: true
    skipVerification: false
    additionalParams:
      influxdb-service.enabled: false
      eric-pm-bulk-reporter.enabled: false
      eric-adp-gs-testapp.enabled: false
      bro_endpoint_url: http://eric-ctrl-bro.<namespace>:7001
      backup-controller.enabled: true
      global.hosts.bro: bro.test.<namespace>.rnd.gic.ericsson.se
      bro.ingress.enabled: true
      config.nbi.file.enabled: false
      tags.pm: true
      tags.all: false
      eric-pm-server.enabled: true
      retrieveUnsealKey: false
      heal.param1: additional-param
      heal.param3: {}
    valuesFilePart:
      heal:
        param1: values-param1
        param2: values-param2
        param3: ["list1", "list2", "list3"]
    expectedHelmValues:
      heal:
        param1: additional-param
        param2: values-param2
        param3: {}

backupRequest:
  - vnfInstanceName: cnf-backup-restore-test
    namespace: cnf-backup-restore-test-ns
    cluster:
      localPath: "${KUBE_CONFIG_PATH}"
    additionalParams:
      backupName: "backupTestScope"
      scope: "DEFAULT"


cnfToHeal:
  - vnfdId: "multi-chart-etsi-rel4-5fcb086597"
    vnfInstanceName: cnf-backup-restore-test
    vnfInstanceDescription: Example description
    namespace: cnf-backup-restore-test-ns
    cluster:
      localPath: "${KUBE_CONFIG_PATH}"
    expectedOperationState: Completed
    expectedComponentsState: Running
    cleanUpResources: true
    skipVerification: false
    additionalParams:
      restore.scope: DEFAULT
      restore.backupName: backupTestScope
      day0.configuration.secretname: restore-external-storage-secret
      day0.configuration.param1.key: restore.externalStorageCredentials
      day0.configuration.param1.value: <restore-credentials>
      day0.configuration.param2.key: restore.externalStorageURI
      day0.configuration.param2.value: <restore-uri>/DEFAULT/backupTestScope
      day0.configuration.secrets:
        restore-backup-name:
          backup: backupTestScope
    expectedHelmValues:
      heal:
        param1: additional-param
        param2: values-param2
        param3: {}
      restore:
        scope: DEFAULT
        backupName: backupTestScope
    expectedHelmHistory:
      test-scale-chart:
        - revision: "1"
          description: Install complete
      spider-app:
        - revision: "1"
          description: Install complete
