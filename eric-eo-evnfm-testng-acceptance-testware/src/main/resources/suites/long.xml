<!DOCTYPE suite SYSTEM "https://testng.org/testng-1.0.dtd" >
<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 ~ COPYRIGHT Ericsson 2024
 ~
 ~
 ~
 ~ The copyright to the computer program(s) herein is the property of
 ~
 ~ Ericsson Inc. The programs may be used and/or copied only with written
 ~
 ~ permission from Ericsson Inc. or in accordance with the terms and
 ~
 ~ conditions stipulated in the agreement/contract under which the
 ~
 ~ program(s) have been supplied.
 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
<suite name="E-VNFM Long Regression TestNg Multi Suite" verbose="10" configfailurepolicy="continue" data-provider-thread-count="2">

  <listeners>
    <listener class-name="com.ericsson.eo.evnfm.acceptance.testng.listeners.EvnfmTestNGListener"/>
  </listeners>

  <parameter name="certificateManagement" value="release-multi/certificate/certificates.yaml"/>
  <parameter name="upgradePatternData" value="release-multi/upgrade/upgradePattern.yaml"/>
  <parameter name="backupRestoreOrchestrator" value="release-multi/bro/bro.yaml"/>
  <parameter name="testTargetClusterData" value="release-multi/cismCluster/testTargetCluster.yaml"/>
  <parameter name="basicOnboardingData" value="release-multi/onboarding.yaml"/>
  <parameter name="basicLCMData" value="release-multi/basicLCM/basicLCM.yaml"/>
  <parameter name="instantiateData" value="release-multi/instantiate/instantiate.yaml"/>
  <parameter name="instantiateSameNamespace" value="release-multi/instantiate/instantiateSameNamespace.yaml"/>
  <parameter name="instantiateNegativeData" value="release-multi/instantiate/instantiateNegative.yaml"/>
  <parameter name="basicLcmDeployableModulesData" value="release-multi/instantiate/basic-lcm-dm.yaml"/>
  <parameter name="lcmNonDefaultFlagsData" value="release-multi/lcm/lcmNonDefaultFlags.yaml"/>
  <parameter name="lcmValuesSchemaData" value="release-multi/lcm/lcmValuesSchema.yaml"/>
  <parameter name="lcmNonScalableVdusData" value="release-multi/lcm/lcmNonScalableVdus.yaml"/>
  <parameter name="dracData" value="long-regression/drac/drac.yaml"/>
  <parameter name="addDeleteNode" value="long-regression/enm/addDeleteNode.yaml"/>
  <parameter name="upgradeWithDifferentChartNumbersData" value="release-multi/upgrade/single-multi-lcm.yaml"/>
  <parameter name="vnfInstancesData" value="release-multi/vnfInstance/vnfInstances.yaml"/>
  <parameter name="cnfHealData" value="long-regression/backuprestore/backupRestore.yaml"/>
  <parameter name="adminScaleData" value="release-multi/adminScale/adminScale.yaml"/>
  <parameter name="cismClusterData" value="release-multi/cismCluster/cismCluster.yaml"/>
  <parameter name="modifyVnfInfoRestData" value="release-multi/modifyVnfInfo/modifyVnfInfoRest.yaml"/>
  <parameter name="failOperationData" value="release-multi/failOperation/failOperation.yaml"/>
  <parameter name="rollbackAtSuccessData" value="release-multi/rollback/rollbackAtSuccess.yaml"/>
  <parameter name="rollbackAtFailureData" value="release-multi/rollback/rollbackAtFailure.yaml"/>
  <parameter name="syncData" value="release-multi/sync/sync.yaml"/>
  <parameter name="persistenceOfScalingData" value="release-multi/scale/persistScaleAtUpgrade.yaml"/>
  <parameter name="cnfScaleData" value="release-multi/scale/scaleCnf.yaml"/>
  <parameter name="terminateData" value="release-multi/terminate/terminate.yaml"/>
  <parameter name="upgradeTwiceWithDifferentFlagValuesData"
             value="release-multi/upgrade/skipMergingPreviousValues/upgrade-twice-with-different-flags.yaml"/>
  <parameter name="upgradeWithAutoRollbackData"
             value="release-multi/upgrade/skipMergingPreviousValues/upgrade-with-auto-rollback.yaml"/>
  <parameter name="upgradeWithManualRollbackData"
             value="release-multi/upgrade/skipMergingPreviousValues/upgrade-with-manual-rollback-at-failure.yaml"/>
  <parameter name="upgradeWithRollbackAtSuccessData"
             value="release-multi/upgrade/skipMergingPreviousValues/upgrade-with-rollback-at-success.yaml"/>
  <parameter name="upgradeWithHealData"
             value="release-multi/upgrade/skipMergingPreviousValues/upgrade-with-heal.yaml"/>
  <parameter name="upgradeTwiceWithoutDowngradePolicyData"
             value="release-multi/upgrade/upgrade-twice-without-downgrade-policy.yaml"/>

  <test name="Set up" parallel="none">
    <classes>
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.postdeployment.CertificateManagementTest"/>
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.postdeployment.BackupRestoreOrchestratorTest"/>
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.cismcluster.BasicClusterTest">
        <methods>
          <include name="testRegisterCluster"/>
        </methods>
      </class>
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.onboarding.BasicOnboardingTest">
        <methods>
          <include name="testLicensesAvailable"/>
          <include name="testHealthCheck"/>
          <include name="testOnboardCsarREST"/>
          <include name="testVnfdZipOnboardedCorrectly"/>
          <include name="testAdditionalValuesArtifacts"/>
        </methods>
      </class>
    </classes>
  </test>
  <test name="Default Cluster operations" parallel="none">
    <classes>
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.cismcluster.DefaultClusterTest">
        <methods>
          <include name="registerUpdatePatchDeregisterDefaultCluster"/>
        </methods>
      </class>
    </classes>
  </test>
  <test name="Get VNF instances" parallel="none">
    <classes>
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.GetVnfInstancesTest"/>
    </classes>
  </test>
  <test name="End to End Acceptance Tests: Phase 1" parallel="classes" thread-count="THREAD_COUNT">
    <classes>
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.rollback.RollbackAtFailureTest"/><!--11 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.sync.SyncTest"/><!--10 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.BasicLCMTest"/><!--7 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.LcmWithNonDefaultFlagsTest"/><!--5 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.LcmWithValuesSchemaTest"/><!--3 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.LcmWithNonScalableVdusTest"/><!--6 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.instantiate.InstantiateWithTargetScaleLevelInfoTest"/><!--7 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.instantiate.InstantiateInTheSameNamespaceTest"/><!--7 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.instantiate.InstantiateNegativeTest"/><!--3 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.terminate.TerminatePositiveTest"/>
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.instantiate.LcmWithDeployableModulesTest"/><!--5 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.upgrade.UpgradeUsingPatternTest"/>
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.upgrade.UpgradeWithDifferentChartNumbersTest"/><!--5 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.scale.PersistenceOfScalingDataTest"/><!--8 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.scale.ScaleSuccessTest"/><!--12 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.rollback.FailOperationTest"/><!--5 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.modify.ModifyVnfInfoSuccessTest"/><!--5 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.cismcluster.CISMClusterTest"><!--5 minutes-->
        <methods>
          <include name="registerUpdateDeregisterClusterConfigPositiveTest"/>
          <include name="clusterConfigLifecyclePositiveTest"/>
          <include name="registerClusterDuplicateNegativeTest"/>
          <include name="registerInvalidClusterNegativeTest"/>
          <include name="registerUpdateDeregisterClusterConfigWithNamespacePositiveTest"/>
          <include name="registerClusterConfigWithNamespaceNegativeTest"/>
          <include name="clusterConfigLifecycleNegativeTest"/>
          <include name="updateInvalidClusterNegativeTest"/>
          <include name="invalidClusterConfigNotExistNegativeTest"/>
          <include name="updateClusterConfigPositiveTestSkipVerification"/>
          <include name="modifyClusterConfigPositiveTestSkipVerification"/>
          <include name="modifyInvalidClusterNegativeTest"/>
          <include name="modifyNonexistentClusterConfigNegativeTest"/>
          <include name="modifyWithInvalidClusterConfigDataNegativeTest"/>
          <include name="clusterConfigLifecycleNegativeOperationFailedTest"/>
        </methods>
      </class>
      <!--10 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.upgrade.skipMergingPreviousValues.UpgradeTwiceWithDifferentFlagValuesTest"/>
      <!--10 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.upgrade.skipMergingPreviousValues.UpgradeWithAutoRollbackTest"/>
      <!--9 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.upgrade.skipMergingPreviousValues.UpgradeWithManualRollbackTest"/>
      <!--10 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.upgrade.skipMergingPreviousValues.UpgradeWithRollbackAtSuccessTest"/>
      <!--10 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.upgrade.skipMergingPreviousValues.UpgradeWithHealTest"/>
      <!--10 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.upgrade.UpgradeTwiceWithoutDowngradePolicy"/>
    </classes>
  </test>
  <test name="End to End Acceptance Tests: Phase 2" parallel="classes" thread-count="THREAD_COUNT">
    <classes>
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.rollback.RollbackAtSuccessTest"/><!--15 minutes-->
<!--  TODO: disabled until https://jira-oss.seli.wh.rnd.internal.ericsson.com/browse/EO-173784 is resolved    -->
<!--      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.enm.AddDeleteNodeTest"/>&lt;!&ndash;11 minutes&ndash;&gt;-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.backuprestore.BackupRestoreOperationRestTest"/><!--7 minutes-->
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.lcm.DracAccessTest"/><!--5 minutes-->
    </classes>
  </test>
  <test name="Clean up" parallel="none">
    <classes>
      <class name="com.ericsson.eo.evnfm.acceptance.testng.tests.rest.onboarding.BasicOnboardingTest">
        <methods>
          <include name="testDeletePackageREST"/>
        </methods>
      </class>
    </classes>
  </test>
</suite>
